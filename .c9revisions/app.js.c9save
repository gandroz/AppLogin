{"ts":1381514286267,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"// Example from https://github.com/jaredhanson/passport-local/tree/master/examples/express3-mongoose\nvar express = require('express')\n  , app = express()\n  , mongoose = require('mongoose')\n  , pass = require('./config/pass')\n  , passport = require('passport')\n  , node_routes = require('./routes/routes')\n  , port = process.env.PORT || 8080;\n\n//Database connect\nvar uristring = \n  process.env.MONGOLAB_URI || \n  process.env.MONGOHQ_URL || \n  'mongodb://localhost/AppLoginDB';\n\nvar mongoOptions = { db: { safe: true }};\n\nmongoose.connect(uristring, mongoOptions, function (err, res) {\n  if (err) { \n    console.log ('ERROR connecting to: ' + uristring + '. ' + err);\n  } else {\n    console.log ('Successfully connected to: ' + uristring);\n  }\n});\n\n//Mongoose models\nvar user_routes = require('./routes/user')\n  , profile_routes = require('./routes/profile')\n  , jobOffers_routes = require('./routes/jobOffers');\n\n// configure Express\napp.configure(function() {\n\tthis.set('views', __dirname + '/views');\n\tthis.set('view engine', 'jade');\t\n\tthis.use(express.logger('dev'));\n\tthis.use(express.cookieParser());\n\tthis.use(express.bodyParser());\n\tthis.use(express.methodOverride());\n\tthis.use(express.session({ secret: 'pas touche minouche' }));\n  // Initialize Passport!  Also use passport.session() middleware, to support\n  // persistent login sessions (recommended).\n\tthis.use(passport.initialize());\n\tthis.use(passport.session());\n\tthis.use(this.router);\n\tthis.use(express.static(__dirname + '/public'));\n\tthis.use(function(req,res){\n\t    res.status(404).send('This requested page does not exist... yet');\n\t});\n});\n\n\n// Basic pages\napp.get('/', node_routes.welcome);\napp.get('/index', node_routes.index);\napp.get('/home', node_routes.home);\n\n// User pages\napp.get('/profile', pass.ensureAuthenticated, profile_routes.load);\napp.post('/profile', pass.ensureAuthenticated, profile_routes.update);\napp.get('/offers', pass.ensureAuthenticated, jobOffers_routes.offers);\napp.get('/submissions', pass.ensureAuthenticated, jobOffers_routes.submissions);\napp.get('/login', node_routes.login);\napp.post('/login', user_routes.login);\napp.get('/logout', user_routes.logout);\n//app.get('/about', node_routes.about);\n//app.get('/contact', node_routes.contact);\napp.get('/register', node_routes.register);\napp.post('/register', user_routes.register);\napp.get('/job', pass.ensureAuthenticated, jobOffers_routes.jobs);\napp.post('/job', pass.ensureAuthenticated, jobOffers_routes.create);\napp.get('/job/:title', pass.ensureAuthenticated, jobOffers_routes.offersByTitle);\napp.get('/api/allMyPostedJobs', pass.ensureAuthenticated, jobOffers_routes.allMyPostedJobsAPI);\napp.post('/api/allMyPostedJobs', pass.ensureAuthenticated, jobOffers_routes.create);\napp.del('/api/allMyPostedJobs/:jobId', pass.ensureAuthenticated, jobOffers_routes.remove);\napp.get('/api/lastSevenJobs', jobOffers_routes.sevenLastOffersAPI);\napp.get('/api/allJobs', pass.ensureAuthenticated, jobOffers_routes.allOffersAPI);\n\n\napp.listen(port, function() {\n  console.log('Express server listening on port: ' + port);\n});\n"]],"start1":0,"start2":0,"length1":0,"length2":3069}]],"length":3069}
{"contributors":[],"silentsave":false,"ts":1381514324803,"patch":[[{"diffs":[[0,"sAPI);\n\n"],[1,"/*\n * Just to test commit to Git from cloud9\n */\n"],[0,"\napp.lis"]],"start1":2966,"start2":2966,"length1":16,"length2":65}]],"length":3118,"saved":false}
{"ts":1381514668343,"patch":[[{"diffs":[[0,"ongoose\n"],[1,"\n/*\n * Pour ajouter des changements : git add .\n * Pour commiter les changements : git commit -m \"message\"\n * Pour pousser sur github : git push dev dev\n * Pour pousser sur heroku : git push dev-heroku dev:master\n */\n\n"],[0,"var expr"]],"start1":93,"start2":93,"length1":16,"length2":234}]],"length":3336,"saved":false}
{"ts":1381515129912,"patch":[[{"diffs":[[0,"ser "],[-1,"sur github"],[1,"les commit :\n *         git push [remote name] local_branch:remote_branch\n * Pour pousser sur github (de dev à dev)"],[0," : g"]],"start1":220,"start2":220,"length1":18,"length2":123},{"diffs":[[0,"it push "],[1,"GitHub "],[0,"dev"],[-1," "],[1,":"],[0,"dev\n * P"]],"start1":343,"start2":343,"length1":20,"length2":27},{"diffs":[[0,"r heroku"],[1," (de dev à master)"],[0," : git p"]],"start1":384,"start2":384,"length1":16,"length2":34}]],"length":3466,"saved":false}
